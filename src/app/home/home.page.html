<ion-header [translucent]="true">

</ion-header>

<ion-content [fullscreen]="true">
  <div class="text-center">
    <ion-label color="label">Weather App</ion-label>
  </div>
  <ion-searchbar [(ngModel)]="cityName" (ngModelChange)="loadData()" class="searchBar" placeholder="Search for city" animated></ion-searchbar>
  <div *ngIf="!loading" >
    <ion-card class="cardStyle">
      <ion-item lines="none">
        <p class="today-report">Today's Report</p>
        <ion-label id="date" slot="end">{{todayDate | date: "EEE dd MMM"}}</ion-label>
      </ion-item>
      <ion-item lines="none">
        <span id="temp">
          {{ (weatherTemp?.temp - 273).toFixed(0) }}
        </span>
        <span class="cilic">°C</span>
        <img slot="end" [src]="weatherIcon">
      </ion-item>
      <ion-item>
        <ion-icon id="locationIcon" name="location"></ion-icon>
        <span>{{ cityName }}</span>
      </ion-item>
    </ion-card>
    <ion-card>
      <ion-item>
        <span>Maximum Temp</span>
        <span slot="end">{{ (weatherTemp.temp_max - 273).toFixed(0)}} °C</span>
      </ion-item>

      <ion-item>
        <span>Minimum Temp</span>
        <span slot="end">{{ (weatherTemp.temp_min - 273).toFixed(0) }} °C</span>
      </ion-item>

      <ion-item>
        <span>Humidity</span>
        <span slot="end">{{ weatherTemp.humidity }} %</span>
      </ion-item>
    </ion-card>
  </div>
  <div *ngIf="loading">
    <span>No data</span>
  </div>
</ion-content>
